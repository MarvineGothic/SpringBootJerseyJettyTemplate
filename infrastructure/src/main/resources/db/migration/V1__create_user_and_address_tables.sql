CREATE TABLE IF NOT EXISTS users (
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    first_name VARCHAR(255),
    last_name VARCHAR(255),
    email VARCHAR(255) UNIQUE,
    password VARCHAR(255) NOT NULL,
    access_role VARCHAR(255) NOT NULL,
    creation_time VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS addresses (
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    house VARCHAR(255) NOT NULL,
    floor VARCHAR(255) DEFAULT NULL,
    street VARCHAR(255) NOT NULL,
    postcode VARCHAR(20) NOT NULL,
    city VARCHAR(255) NOT NULL,
    country VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS user_addresses (
    user_id BIGINT NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    address_id BIGINT NOT NULL REFERENCES addresses(id) ON DELETE CASCADE,
    PRIMARY KEY (user_id, address_id)
);